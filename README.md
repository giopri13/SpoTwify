# SpoTwify
A simple tool that looks for tweets sharing songs included in the [Top 50 Global Playlist](https://open.spotify.com/playlist/37i9dQZEVXbMDoHDwVN2tF) on Spotify and classifies them as positive or negative, making use of technologies such as Apache Kafka, Apache Spark, Elastic Search and Kibana. Developed as final project for the Technologies for Advanced Programming subject.


## Read Me

### Prerequisites

Before using the tool, be sure to download and place the following items in the correct folders:
* Download [spark-3.1.1-bin-hadoop2.7.tgz](https://archive.apache.org/dist/spark/spark-3.1.1/) and put it in _/spark/setup/_
* Download [Twitter Sentiment Analysis Dataset](http://thinknook.com/twitter-sentiment-analysis-training-corpus-dataset-2012-09-22/) and put it in _/spark/dataset/_

Remember to run chmod -R 777 * from the main folder to avoid any issue due to missing permissions.

### How to Run

In order to run the tool, move to directory _/bin_ and run the following scripts in this order (from different terminals):

1. ./kafkaStartZk.sh
2. ./kafkaStartServer.sh
3. ./kafkaCreateTopic.sh tweets
4. ./elasticSearch.sh
5. ./kibana.sh
6. ./sparkStart.sh
7. ./kafkaPythonDataGatherer.sh

Step 7 requires an authorization token for Spotipy: the terminal will prompt you to open the given link and paste the response that will be generated by your browser.

Finally you can connect to https://localhost:5061 to take a look at the dashboard. Select twitter as index.
